{"version":3,"sources":["webpack://Fatina/webpack/universalModuleDefinition","webpack://Fatina/webpack/bootstrap","webpack://Fatina/./src/easing/easing.ts","webpack://Fatina/./src/easing/easingType.ts","webpack://Fatina/./src/fatina.ts","webpack://Fatina/./src/index.ts","webpack://Fatina/./src/preset.ts","webpack://Fatina/./src/ticker.ts","webpack://Fatina/./src/tweens/baseTween.ts","webpack://Fatina/./src/tweens/callback.ts","webpack://Fatina/./src/tweens/delay.ts","webpack://Fatina/./src/tweens/sequence.ts","webpack://Fatina/./src/tweens/tween.ts"],"names":[],"mappings":"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","file":"fatina.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","/**\n * List of easing method\n *\n * Mostly based on http://easings.net/\n */\n// tslint:disable:no-parameter-reassignment\n/**\n * @ignore\n * @private\n * @const\n * @readonly\n */\nconst PI = Math.PI;\n/**\n * @ignore\n * @private\n * @const\n * @readonly\n */\nconst PI_OVER_TWO = Math.PI / 2;\n/**\n * @ignore\n * @private\n * @const\n * @readonly\n */\nconst BACK = 1.70158;\n/**\n * @ignore\n * @private\n * @const\n * @readonly\n */\nconst e: { [id: string]: (t: number) => number } = {};\n\n// Linear\ne.linear = (t: number): number => {\n\treturn t;\n};\n\n// Quad\ne.inQuad = (t: number): number => {\n\treturn t * t;\n};\n\ne.outQuad = (t: number): number => {\n\treturn 2 * t - t * t;\n};\n\ne.inOutQuad = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn 2 * t * t;\n\t} else {\n\t\treturn 2 * (2 * t - t * t) - 1;\n\t}\n};\n\n// Cubic\ne.inCubic = (t: number): number => {\n\treturn t * t * t;\n};\n\ne.outCubic = (t: number): number => {\n\treturn 3 * t - 3 * t * t + t * t * t;\n};\n\ne.inOutCubic = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn 4 * t * t * t;\n\t} else {\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\n\t}\n};\n\n// Quart\ne.inQuart = (t: number): number => {\n\treturn t * t * t * t;\n};\n\ne.outQuart = (t: number): number => {\n\tconst t2 = t * t;\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\n};\n\ne.inOutQuart = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn 8 * t * t * t * t;\n\t} else {\n\t\tconst t2 = t * t;\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\n\t}\n};\n\n// Sine\ne.inSine = (t: number): number => {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\n};\n\ne.outSine = (t: number): number => {\n\treturn Math.sin(PI_OVER_TWO * t);\n};\n\ne.inOutSine = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn (1 - Math.cos(PI * t)) / 2;\n\t} else {\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\n\t}\n};\n\n// Circular\ne.inCirc = (t: number): number => {\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\n};\n\ne.outCirc = (t: number): number => {\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\n};\n\ne.inOutCirc = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\n\t} else {\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\n\t}\n};\n\n// Quint\ne.inQuint = (t: number): number => {\n\treturn t * t * t * t * t;\n};\n\ne.outQuint = (t: number): number => {\n\treturn --t * t * t * t * t + 1;\n};\n\ne.InOutQuint = (t: number): number => {\n\tt *= 2;\n\tif (t < 1) {\n\t\treturn 0.5 * t * t * t * t * t;\n\t}\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n};\n\n// Exponential\ne.inExponential = (t: number): number => {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\n};\n\ne.outExponential = (t: number): number => {\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\n};\n\ne.inOutExponential = (t: number): number => {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\tt *= 2;\n\tif (t < 1) {\n\t\treturn 0.5 * Math.pow(1024, t - 1);\n\t}\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\n};\n\n// Elastic\ne.inElastic = (t: number): number => {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\n};\n\ne.outElastic = (t: number): number => {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\n};\n\ne.inOutElastic = (t: number): number => {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\tt *= 2;\n\tif (t < 1) {\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\n\t}\n\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\n};\n\n// Back\ne.inBack = (t: number): number => {\n\tconst s = BACK;\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\n};\n\ne.outBack = (t: number): number => {\n\tconst s = BACK;\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\n};\n\ne.inOutBack = (t: number): number => {\n\tconst s = BACK * 1.525;\n\tt *= 2;\n\tif (t < 1) {\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\n\t}\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n};\n\n// Bounce\ne.outBounce = (t: number): number => {\n\tif (t < (1 / 2.75)) {\n\t\treturn 7.5625 * t * t;\n\t} else if (t < (2 / 2.75)) {\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\n\t} else if (t < (2.5 / 2.75)) {\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\n\t} else {\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\n\t}\n};\n\ne.inBounce = (t: number): number => {\n\treturn 1 - e.outBounce(1 - t);\n};\n\ne.inOutBounce = (t: number): number => {\n\tif (t < 0.5) {\n\t\treturn e.inBounce(t * 2) * 0.5;\n\t}\n\treturn e.outBounce(t * 2 - 1) * 0.5 + 0.5;\n};\n\nexport const easeNames = e;\n","\n/**\n * List of all easing methods\n *\n * @export\n * @enum {number}\n */\nexport const enum EasingType {\n\tLinear = 'linear',\n\tInQuad = 'inQuad',\n\tOutQuad = 'outQuad',\n\tInOutQuad = 'inOutQuad',\n\tInCubic = 'inCubic',\n\tOutCubic = 'outCubic',\n\tInOutCubic = 'inOutCubic',\n\tInQuart = 'inQuart',\n\tOutQuart = 'outQuart',\n\tInOutQuart = 'inOutQuart',\n\tInSine = 'inSine',\n\tOutSine = 'outSine',\n\tInOutSine = 'inOutSine',\n\tInCirc = 'inCirc',\n\tOutCirc = 'outCirc',\n\tInOutCirc = 'inOutCirc',\n\tInQuint = 'inQuint',\n\tOutQuint = 'outQuint',\n\tInOutQuint = 'inOutQuint',\n\tInExponential = 'inExponential',\n\tOutExponential = 'outExponential',\n\tInOutExponential = 'inOutExponential',\n\tInElastic = 'inElastic',\n\tOutElastic = 'outElastic',\n\tInOutElastic = 'inOutElastic',\n\tInBack = 'inBack',\n\tOutBack = 'outBack',\n\tInOutBack = 'inOutBack',\n\tInBounce = 'inBounce',\n\tOutBounce = 'outBounce',\n\tInOutBounce = 'inOutBounce'\n}\n","\nimport { Log } from './core/enum/log';\nimport { IControl } from './core/interfaces/IControl';\nimport { IPlayable } from './core/interfaces/IPlayable';\nimport { IPlugin } from './core/interfaces/IPlugin';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { ISettings } from './core/interfaces/ISettings';\nimport { ITicker } from './core/interfaces/ITicker';\nimport { ITween } from './core/interfaces/ITween';\nimport { pulsePreset, scalePreset, shakePreset, sonarPreset, wobblePreset } from './preset';\nimport { Ticker } from './ticker';\nimport { Delay } from './tweens/delay';\nimport { Sequence } from './tweens/sequence';\nimport { Tween } from './tweens/tween';\n\n/**\n * This part manage the auto-update loop if necessary (browser only)\n */\n/**\n * @ignore\n * @private\n */\nlet lastFrame: any;\n/**\n * @ignore\n * @private\n * @const\n */\nlet requestFrame: any;\n/**\n * @ignore\n * @private\n * @const\n */\nlet cancelFrame: any;\nif (typeof(window) !== 'undefined') {\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame\n\t\t|| window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\n}\n\n/**\n * Main class exposed as fatina library\n *\n * @export\n * @class Fatina\n */\nexport class Fatina {\n\t// plugins\n\t/**\n\t * @export\n\t */\n\tpublic plugin: any = {};\n\n\t/**\n\t * @private\n\t */\n\tprivate readonly loadedPlugins: IPlugin[] = [];\n\t/**\n\t * @private\n\t */\n\tprivate readonly eventCreated: {(control: IControl): void}[] = [];\n\n\t/**\n\t * Settings\n\t * @private\n\t */\n\tprivate readonly settings = {\n\t\tlogLevel: Log.None,\n\t\tsafe: true,\n\t\tsmooth: false,\n\t\tmaxFrameDt: 50, // 3 frames\n\t\tmaxFrameNumber: 40, // 40 x 3 frames ~2s.\n\t\tmaxDt: 500 // 500ms of animation\n\t} as ISettings;\n\n\t// properties\n\tpublic time = 0;\n\t/**\n\t * @private\n\t */\n\tprivate dt = 0;\n\t/**\n\t * @private\n\t */\n\tprivate lastTime = 0;\n\t/**\n\t * @private\n\t */\n\tprivate initialized = false;\n\t/**\n\t * @private\n\t */\n\tprivate manager: Ticker;\n\n\tpublic get elapsed(): number {\n\t\treturn this.manager.elapsed;\n\t}\n\n\tpublic get mainTicker(): ITicker {\n\t\tif (!this.initialized) {\n\t\t\tthis.init();\n\t\t}\n\t\treturn this.manager;\n\t}\n\n\t/**\n\t * Pulse Animation\n\t *\n\t * @export\n\t * @param {any} obj\n\t * @param {any} settings\n\t * @returns {ISequence}\n\t */\n\tpublic pulse = (obj: any, settings?: any): ISequence => pulsePreset(this, obj, settings);\n\t/**\n\t * Strobe Animation\n\t *\n\t * @export\n\t * @param {any} obj\n\t * @param {any} settings\n\t * @returns {ITween}\n\t */\n\tpublic scale = (obj: any, settings?: any): ITween => scalePreset(this, obj, settings);\n\t/**\n\t * Wobble Animation\n\t *\n\t * @export\n\t * @param {any} obj\n\t * @param {any} settings\n\t * @returns {ITween}\n\t */\n\tpublic wobble = (obj: any, settings?: any): ITween => wobblePreset(this, obj, settings);\n\t/**\n\t * Sonar Animation\n\t *\n\t * @export\n\t * @param {any} obj\n\t * @param {any} settings\n\t * @returns {ITween}\n\t */\n\tpublic sonar = (obj: any, settings?: any): ITween => sonarPreset(this, obj, settings);\n\t/**\n\t * Sonar Animation\n\t *\n\t * @export\n\t * @param {any} obj\n\t * @param {any} settings\n\t * @returns {ISequence}\n\t */\n\tpublic shake = (obj: any, settings?: any): ITween => shakePreset(this, obj, settings);\n\n\t/**\n\t * Method used when Fatina is used for the first time.\n\t * Can take few ms. (pool initialization & object creation)\n\t *\n\t * @export\n\t * @param {boolean} [disableAutoTick]\n\t * @returns {boolean}\n\t */\n\tpublic init(disableAutoTick?: boolean): boolean {\n\t\tif (this.initialized) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.manager) {\n\t\t\tthis.manager = new Ticker();\n\t\t\tthis.manager.start();\n\t\t}\n\n\t\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\n\t\t\tlastFrame = requestFrame(this.updateLoop.bind(this));\n\t\t}\n\n\t\tthis.initialized = true;\n\t\treturn true;\n\t}\n\n\t/**\n\t * Used to change the timescale of the whole game\n\t *\n\t * @export\n\t * @param {number} scale\n\t */\n\tpublic setTimescale(scale: number): void {\n\t\tthis.init();\n\t\tthis.manager.setTimescale(scale);\n\t}\n\n\t/**\n\t * This method pause the update loop (update are not called anymore)\n\t *\n\t * @export\n\t */\n\tpublic pause(): void {\n\t\tthis.init();\n\t\tthis.manager.pause();\n\t}\n\n\t/**\n\t * This method resume the update loop (works only if the game was paused before)\n\t *\n\t * @export\n\t */\n\tpublic resume(): void {\n\t\tthis.init();\n\t\tthis.manager.resume();\n\t}\n\n\t/**\n\t * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\n\t *\n\t * @export\n\t */\n\tpublic destroy() {\n\t\tif (this.manager) {\n\t\t\tthis.manager.kill();\n\t\t}\n\n\t\tif (lastFrame) {\n\t\t\tcancelFrame(lastFrame);\n\t\t}\n\n\t\tthis.initialized = false;\n\t}\n\n\t/**\n\t * Method used to tick all the child (tween or sequence)\n\t * This takes cares of recycling the old tween/sequence\n\t *\n\t * @export\n\t * @param {number} timestamp\n\t * @returns {*}\n\t */\n\tpublic update(timestamp: number): any {\n\t\tif (!this.initialized || !this.manager) {\n\t\t\treturn;\n\t\t}\n\t\tthis.manager.tick(timestamp);\n\t\tthis.time += timestamp;\n\t}\n\n\t/**\n\t * Helper to create a tween (use the tween pool)\n\t *\n\t * @export\n\t * @param {*} obj\n\t * @returns {ITween}\n\t */\n\tpublic tween(obj: any): ITween {\n\t\tconst t = new Tween(obj);\n\t\tthis.addContext(t);\n\t\treturn t;\n\t}\n\n\t/**\n\t * Helper to create a Sequence (use the sequence pool)\n\t *\n\t * @export\n\t * @param {(Tween[] | Sequence[])} [list]\n\t * @returns {ISequence}\n\t */\n\tpublic sequence(list?: Tween[] | Sequence[] | IPlayable[]): ISequence {\n\t\tconst s = new Sequence(list);\n\t\tthis.addContext(s);\n\t\treturn s;\n\t}\n\n\t/**\n\t * Helper to create a Delay\n\t *\n\t * @export\n\t * @param {number} duration\n\t * @returns {IPlayable}\n\t */\n\tpublic delay(duration: number): IPlayable {\n\t\tconst d = new Delay(duration);\n\t\tthis.addContext(d);\n\t\treturn d;\n\t}\n\n\t/**\n\t * Helper used to replace usage of normal js setTimeout() by a tween\n\t * https://www.w3schools.com/jsref/met_win_settimeout.asp\n\t *\n\t * @export\n\t * @param {() => void} fn\n\t * @param {number} duration\n\t * @returns {IPlayable}\n\t */\n\tpublic setTimeout(fn: () => void, duration: number): IPlayable {\n\t\tconst timeout = new Delay(duration).onComplete(fn);\n\t\tthis.addContext(timeout);\n\t\treturn timeout.start();\n\t}\n\n\t/**\n\t * Helper used to replace usage of normal js setInterval() by a tween\n\t * https://www.w3schools.com/jsref/met_win_setinterval.asp\n\t *\n\t * @export\n\t * @param {() => void} fn\n\t * @param {number} duration\n\t * @returns {IPlayable}\n\t */\n\tpublic setInterval(fn: () => void, duration: number): IPlayable {\n\t\tconst interval = new Delay(duration).onRestart(fn).setLoop(-1);\n\t\tthis.addContext(interval);\n\t\treturn interval.start();\n\t}\n\n\t/**\n\t * Private method to set common data to every object (the parent ticker, safe mode, verbose mode)\n\t *\n\t * @private\n\t * @param {(IPlayable | ITween | ISequence)} obj\n\t */\n\tprivate addContext(obj: IPlayable | ITween | ISequence): void {\n\t\tif (!this.initialized) {\n\t\t\tthis.init();\n\t\t}\n\n\t\tobj.setParent(this.manager as ITicker);\n\n\t\tif (this.settings.logLevel !== Log.None || !this.settings.safe) {\n\t\t\tobj.setSettings(this.settings);\n\t\t}\n\n\t\tthis.emitCreated(obj);\n\t}\n\n\t/**\n\t * Create or Get a ticker with a defined name\n\t * This ticker is a child of the main ticker\n\t *\n\t * @export\n\t * @param {string} name\n\t * @returns {ITicker}\n\t */\n\tpublic ticker(): ITicker {\n\t\tif (!this.initialized) {\n\t\t\tthis.init();\n\t\t}\n\n\t\tconst tick = new Ticker();\n\t\tconst handler = tick.tick.bind(tick);\n\t\ttick.setParent(this.manager, handler);\n\t\tthis.manager.addTick(handler);\n\t\ttick.start();\n\n\t\tthis.emitCreated(tick);\n\t\treturn tick;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate updateLoop(timestamp: number) {\n\t\tthis.dt += timestamp - this.lastTime;\n\t\tif (this.dt > this.settings.maxDt) {\n\t\t\tconsole.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`);\n\t\t\tthis.dt = this.settings.maxDt;\n\t\t}\n\n\t\tif (!this.settings.smooth) {\n\t\t\t// use directly the delta time\n\t\t\tthis.update(this.dt);\n\t\t\tthis.dt = 0;\n\t\t} else {\n\t\t\t// split high dt in multiple smaller .update()\n\t\t\tlet frame = 0;\n\t\t\twhile (this.dt > 0 && frame < this.settings.maxFrameNumber) {\n\t\t\t\tconst currentDt = Math.min(this.dt, this.settings.maxFrameDt);\n\t\t\t\tthis.update(currentDt);\n\t\t\t\tthis.dt -= currentDt;\n\t\t\t\tframe++;\n\t\t\t}\n\t\t}\n\n\t\tthis.lastTime = timestamp;\n\t\tlastFrame = requestFrame(this.updateLoop.bind(this));\n\t}\n\n\t/**\n\t * Initialize a plugin by passing fatina object to it\n\t *\n\t * @export\n\t * @param {IPlugin} newPlugin\n\t */\n\tpublic loadPlugin(newPlugin: IPlugin) {\n\t\tnewPlugin.init(this);\n\t\tthis.loadedPlugins.push(newPlugin);\n\t\tthis.info(Log.Debug, 'Plugin Loaded', newPlugin.name);\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate info(level: Log, message: string, data?: any) {\n\t\tif (level > this.settings.logLevel) {\n\t\t\treturn;\n\t\t}\n\t\tif (data) {\n\t\t\tconsole.log(message, data);\n\t\t} else {\n\t\t\tconsole.log(message);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate emit(func: any, control: IControl) {\n\t\tif (!this.settings.safe) {\n\t\t\treturn func(control);\n\t\t}\n\n\t\ttry {\n\t\t\tfunc(control);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate emitCreated(control: IControl) {\n\t\tfor (const event of this.eventCreated) {\n\t\t\tthis.emit(event, control);\n\t\t}\n\t}\n\n\t/**\n\t * Add a listener method on tween/sequence creation\n\t * (Used by plugin as a factory hook)\n\t *\n\t * @export\n\t * @param {(control: IControl) => void} cb\n\t */\n\tpublic addListenerCreated(cb: (control: IControl) => void): void {\n\t\tthis.eventCreated.push(cb);\n\t}\n\n\t/**\n\t * Remove a listener method on tween/sequence creation\n\t * (Used by plugin as a factory hook)\n\t *\n\t * @export\n\t * @param {(control: IControl) => void} cb\n\t */\n\tpublic removeListenerCreated(cb: (control: IControl) => void): void {\n\t\tconst index = this.eventCreated.indexOf(cb);\n\t\tif (index !== -1) {\n\t\t\tthis.eventCreated.splice(index, 1);\n\t\t}\n\t}\n\n\t/**\n\t * This method is used to change the log level\n\t *\n\t * @export\n\t * @param {Log} level\n\t */\n\tpublic setLog(level: Log) {\n\t\tthis.settings.logLevel = level;\n\t}\n\n\t/**\n\t * This method is used to enable / disable the callback try/catch\n\t *\n\t * @export\n\t * @param {boolean} isSafe\n\t */\n\tpublic setSafe(isSafe: boolean) {\n\t\tthis.settings.safe = isSafe;\n\t}\n}\n","import { Fatina } from './fatina';\n/**\n * @export\n * @ignore\n */\nexport default new Fatina();\n\n/**\n * @export\n */\nexport { EasingType } from './easing/easingType';\n\n/**\n * @export\n */\nexport { ITween } from './core/interfaces/ITween';\n","import { easeNames } from './easing/easing';\nimport { Fatina } from './fatina';\nimport { EasingType } from './index';\n\n/**\n * Get Root object\n *\n * @ignore\n * @private\n * @param {*} obj\n * @param {string} property\n * @returns\n */\nfunction getRoot(obj: any, property: string) {\n\tconst path = property.split('.');\n\tlet ret = obj;\n\tfor (let i = 0; i < path.length - 1; i++) {\n\t\tret = ret[path[i]];\n\t}\n\treturn ret;\n}\n\n/**\n * Get Object Property\n *\n * @ignore\n * @private\n * @param {string} property\n * @returns\n */\nfunction getProp(property: string) {\n\tconst path = property.split('.');\n\treturn path[path.length - 1];\n}\n\n/**\n * Get Object Property object\n *\n * @ignore\n * @private\n * @param {string} property\n * @param {*} value\n * @returns\n */\nfunction getData(property: string, value: any) {\n\tconst data = {} as any;\n\n\tdata[getProp(property)] = value;\n\treturn data;\n}\n\nexport interface ISonarPresetParams {\n\talpha: string;\n\tscaleX: string;\n\tscaleY: string;\n\tamplitude: number;\n\tduration: number;\n}\n\n/**\n * Sonar Preset\n *\n * @ignore\n * @export\n * @param {Fatina} fatina\n * @param {*} obj\n * @param {ISonarPresetParams} [settings]\n * @returns\n */\nexport function sonarPreset(fatina: Fatina, obj: any, settings?: ISonarPresetParams) {\n\tconst defaults = {\n\t\talpha: 'alpha',\n\t\tscaleX: 'scale.x',\n\t\tscaleY: 'scale.y',\n\t\tamplitude: 4,\n\t\tduration: 2000\n\t};\n\tconst pa = { ...defaults, ...(settings || {}) } as ISonarPresetParams;\n\tconst rs = getRoot(obj, pa.scaleX);\n\tconst ra = getRoot(obj, pa.alpha);\n\tconst sx = getProp(pa.scaleX);\n\tconst sy = getProp(pa.scaleY);\n\tconst alpha = getProp(pa.alpha);\n\tconst src = { x: rs[sx], y: rs[sy] };\n\tconst p = easeNames[EasingType.OutCubic];\n\n\treturn fatina.tween({})\n\t\t.to({}, pa.duration)\n\t\t.onUpdate((_dt, progress) => {\n\t\t\tra[alpha] = 1 - easeNames[EasingType.InSine](progress);\n\t\t\trs[sx] = src.x + pa.amplitude * p(progress);\n\t\t\trs[sy] = src.y + pa.amplitude * p(progress);\n\t\t})\n\t\t.onKilled(() => {\n\t\t\tra[alpha] = 1;\n\t\t\trs[sx] = src.x;\n\t\t\trs[sy] = src.y;\n\t\t});\n}\n\nexport interface IPulsePresetParams {\n\talpha: string;\n\tduration: number;\n}\n\n/**\n * Pulse Preset\n *\n * @ignore\n * @export\n * @param {Fatina} fatina\n * @param {*} obj\n * @param {IPulsePresetParams} [settings]\n * @returns\n */\nexport function pulsePreset(fatina: Fatina, obj: any, settings?: IPulsePresetParams) {\n\tconst defaults = {\n\t\talpha: 'alpha',\n\t\tduration: 2000\n\t};\n\tconst pa = { ...defaults, ...(settings || {}) } as IPulsePresetParams;\n\tconst rootAlpha = getRoot(obj, pa.alpha);\n\treturn fatina.tween(rootAlpha)\n\t\t.to(getData(pa.alpha, 0), pa.duration / 2)\n\t\t.setEasing(EasingType.InOutQuad)\n\t\t.toSequence()\n\t\t.append(\n\t\t\tfatina.tween(rootAlpha)\n\t\t\t.to(getData(pa.alpha, 1), pa.duration / 2)\n\t\t\t.setEasing(EasingType.InOutQuad)\n\t\t)\n\t\t.onKilled(() => rootAlpha[getProp(pa.alpha)] = 1);\n}\n\nexport interface IScalePresetParams {\n\tscaleX: string;\n\tscaleY: string;\n\tamplitude: number;\n\tduration: number;\n\tbounce: number;\n\tfriction: number;\n\tsinX: number;\n}\n\n/**\n * Scale Preset\n *\n * @ignore\n * @export\n * @param {Fatina} fatina\n * @param {*} obj\n * @param {IScalePresetParams} [settings]\n * @returns\n */\nexport function scalePreset(fatina: Fatina, obj: any, settings?: IScalePresetParams) {\n\tconst defaults = {\n\t\tscaleX: 'scale.x',\n\t\tscaleY: 'scale.y',\n\t\tamplitude: 0.5,\n\t\tduration: 2000,\n\t\tbounce: 5,\n\t\tfriction: 2,\n\t\tsinX: 0\n\t};\n\tconst pa = { ...defaults, ...(settings || {}) } as IScalePresetParams;\n\tconst root = getRoot(obj, pa.scaleX);\n\tconst x = getProp(pa.scaleX);\n\tconst y = getProp(pa.scaleY);\n\tconst src = { x: root[x], y: root[y] };\n\treturn fatina.tween({}).to({}, pa.duration)\n\t\t.setEasing(EasingType.InOutCubic)\n\t\t.onUpdate((_dt, progress) => {\n\t\t\tconst friction = Math.pow(1 - progress, pa.friction);\n\t\t\tconst p = (progress * pa.bounce) % pa.duration;\n\t\t\troot[x] = src.x + Math.sin(pa.sinX + p * Math.PI * 2) * pa.amplitude * friction;\n\t\t\troot[y] = src.y + Math.sin(p * Math.PI * 2) * pa.amplitude * friction;\n\t\t})\n\t\t.onKilled(() => {\n\t\t\troot[x] = src.x;\n\t\t\troot[y] = src.y;\n\t\t});\n}\n\n/**\n * Wobble Preset\n *\n * @ignore\n * @export\n * @param {Fatina} fatina\n * @param {*} obj\n * @param {IScalePresetParams} [settings]\n * @returns\n */\nexport function wobblePreset(fatina: Fatina, obj: any, settings?: IScalePresetParams) {\n\tconst defaults = { sinX: Math.PI };\n\treturn scalePreset(fatina, obj, { ...defaults, ...(settings || {}) } as IScalePresetParams);\n}\n\nexport interface IShakePresetParams {\n\tposX: string;\n\tposY: string;\n\tamplitude: number;\n\tduration: number;\n\tbounce: number;\n\tfriction: number;\n}\n\n/**\n * Shake Preset\n *\n * @ignore\n * @export\n * @param {Fatina} fatina\n * @param {*} obj\n * @param {IShakePresetParams} [settings]\n * @returns\n */\nexport function shakePreset(fatina: Fatina, obj: any, settings?: IShakePresetParams) {\n\tconst defaults = {\n\t\tposX: 'position.x',\n\t\tposY: 'position.y',\n\t\tamplitude: 1.5,\n\t\tduration: 2000,\n\t\tbounce: 10,\n\t\tfriction: 2\n\t};\n\tconst pa = { ...defaults, ...(settings || {}) } as IShakePresetParams;\n\tconst root = getRoot(obj, pa.posX);\n\tconst x = getProp(pa.posX);\n\tconst y = getProp(pa.posY);\n\tconst src = { x: root[x], y: root[y] };\n\tconst rnd = { x: 0.5 + Math.random(), y: 0.5 + Math.random() };\n\treturn fatina.tween({})\n\t\t.to({}, pa.duration)\n\t\t.onUpdate((_dt, progress) => {\n\t\t\tconst friction = Math.pow(1 - progress, pa.friction);\n\t\t\tconst p = (progress * pa.bounce) % pa.duration;\n\t\t\troot[x] = src.x + Math.sin(Math.PI + (p + rnd.x) * Math.PI * 2) * pa.amplitude * friction;\n\t\t\troot[y] = src.y + Math.sin((p + rnd.y) * Math.PI * 2) * pa.amplitude * friction;\n\t\t})\n\t\t.onKilled(() => {\n\t\t\troot[x] = src.x;\n\t\t\troot[y] = src.y;\n\t\t});\n}\n","import { State } from './core/enum/state';\nimport { ITicker } from './core/interfaces/ITicker';\n\n/**\n * Main Fatina Ticker\n * Parent of all the normal tween and sequence\n *\n * @export\n * @class Ticker\n * @extends {EventList}\n * @implements {ITicker}\n */\nexport class Ticker implements ITicker {\n\tpublic state = State.Idle;\n\t/**\n\t * @private\n\t */\n\tprivate timescale = 1;\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\n\t/**\n\t * @private\n\t */\n\tprivate tickCb: (dt: number) => void | undefined;\n\t/**\n\t * @private\n\t */\n\tprivate readonly ticks: Set<(dt: number) => void> = new Set();\n\t/**\n\t * @private\n\t */\n\tprivate readonly newTicks: Set<(dt: number) => void> = new Set();\n\t/**\n\t * @private\n\t */\n\tprivate parent: ITicker;\n\t/**\n\t * @private\n\t */\n\tprivate dt: number = 0;\n\n\tpublic setParent(parent: ITicker, tick: (dt: number) => void) {\n\t\tthis.tickCb = tick;\n\t\tthis.parent = parent;\n\t}\n\n\t/**\n\t * Method used to change the timescale\n\t *\n\t * @param {number} scale\n\t */\n\tpublic setTimescale(scale: number): void {\n\t\tthis.timescale = scale;\n\t}\n\n\t/**\n\t * Method used by the child to be updated\n\t *\n\t * @param {(dt: number) => void} cb\n\t */\n\tpublic addTick(cb: (dt: number) => void): void {\n\t\tthis.newTicks.add(cb);\n\t}\n\n\t/**\n\t * Method used by the child to not receive update anymore\n\t *\n\t * @param {(dt: number) => void} cb\n\t */\n\tpublic removeTick(cb: (dt: number) => void): void {\n\t\tif (!this.ticks.delete(cb)) {\n\t\t\tthis.newTicks.delete(cb);\n\t\t}\n\t}\n\n\t/**\n\t * Method used to tick all the child (tick listeners)\n\t *\n\t * @param {number} dt\n\t * @returns\n\t */\n\tpublic tick(dt: number) {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.dt = dt * this.timescale;\n\t\tif (this.newTicks.size > 0) {\n\t\t\tthis.newTicks.forEach((tick) => this.ticks.add(tick));\n\t\t\tthis.newTicks.clear();\n\t\t}\n\n\t\tthis.ticks.forEach((tick) => tick(this.dt));\n\t\tthis.elapsed += this.dt;\n\t}\n\n\tpublic start(): void {\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.state = State.Run;\n\t\t}\n\t}\n\n\tpublic pause(): void {\n\t\tif (this.state === State.Run) {\n\t\t\tthis.state = State.Pause;\n\t\t}\n\t}\n\n\tpublic resume(): void {\n\t\tif (this.state === State.Pause) {\n\t\t\tthis.state = State.Run;\n\t\t}\n\t}\n\n\tpublic kill(): void {\n\t\tif (this.state >= 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent && this.tickCb) {\n\t\t\tthis.parent.removeTick(this.tickCb);\n\t\t}\n\n\t\tthis.state = State.Killed;\n\t}\n\n\tpublic skip(): void {}\n\n\tpublic reset(): void {\n\t\tthis.state = State.Idle;\n\t}\n\n\tpublic get isIdle(): boolean {\n\t\treturn this.state === State.Idle;\n\t}\n\n\tpublic get isRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\n\tpublic get isFinished(): boolean {\n\t\treturn this.state >= 3;\n\t}\n\n\tpublic get isPaused(): boolean {\n\t\treturn this. state === State.Pause;\n\t}\n}\n","import { Log } from '../core/enum/log';\nimport { State } from '../core/enum/state';\nimport { ISettings } from '../core/interfaces/ISettings';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ITweenProperty } from '../core/interfaces/ITweenProperty';\n\n/**\n * Shared behaviors between different types of tweens and sequence\n * Used mostly to manage:\n *  - events\n *  - state\n *  - loop and restart\n *\n * @export\n * @abstract\n * @class BaseTween\n */\nexport abstract class BaseTween<T extends BaseTween<any>> {\n\t// events\n\t/**\n\t * @protected\n\t */\n\tprotected events: { [id: string]: any } = {};\n\n\t// public properties\n\t/**\n\t * Time elapsed\n\t * @type {number}\n\t * @export\n\t */\n\tpublic elapsed = 0;\n\t/**\n\t * Total duration of the tween\n\t * @type {number}\n\t * @export\n\t */\n\tpublic duration = 0;\n\t/**\n\t * Timescale of the tween\n\t * @type {number}\n\t * @export\n\t */\n\tpublic timescale = 1;\n\t/**\n\t * Current state of the tween\n\t * @type {State}\n\t * @export\n\t */\n\tpublic state: State = State.Idle;\n\n\t// private properties\n\t/**\n\t * @protected\n\t */\n\tprotected loop: ITweenProperty | undefined;\n\t/**\n\t * @protected\n\t */\n\tprotected yo: ITweenProperty | undefined;\n\t/**\n\t * @protected\n\t */\n\tprotected parent: ITicker;\n\t/**\n\t * @protected\n\t */\n\tprotected tickCb: (dt: number) => void;\n\t/**\n\t * @private\n\t */\n\tprivate first = true;\n\t/**\n\t * @private\n\t */\n\tprivate settings?: ISettings;\n\n\t/**\n\t * Is this tween idle (based on state)\n\t * @readonly\n\t * @type {boolean}\n\t * @export\n\t */\n\tpublic get isIdle(): boolean {\n\t\treturn this.state === State.Idle;\n\t}\n\t/**\n\t * Is this tween runs (based on state)\n\t * @readonly\n\t * @type {boolean}\n\t * @export\n\t */\n\tpublic get isRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\t/**\n\t * Is this tween over (based on state)\n\t * @readonly\n\t * @type {boolean}\n\t * @export\n\t */\n\tpublic get isFinished(): boolean {\n\t\treturn this.state >= 3;\n\t}\n\t/**\n\t * Is this tween paused (based on state)\n\t * @readonly\n\t * @type {boolean}\n\t * @export\n\t */\n\tpublic get isPaused(): boolean {\n\t\treturn this. state === State.Pause;\n\t}\n\n\t/**\n\t * Start the tween\n\t * @export\n\t */\n\tpublic start(): T {\n\t\tif (this.state !== State.Idle) {\n\t\t\treturn this as any;\n\t\t}\n\n\t\tif (this.first) {\n\t\t\tthis.validate();\n\t\t} else {\n\t\t\tthis.check();\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.addTick(this.tickCb);\n\n\t\tif (this.first) {\n\t\t\tthis.emitEvent(this.events.start);\n\t\t\tthis.first = false;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * @readonly\n\t */\n\tpublic reset(skipParent?: boolean): void {\n\t\tthis.state = State.Idle;\n\n\t\tif (!skipParent) {\n\t\t\tthis.removeParent();\n\t\t}\n\n\t\tif (this.loop) {\n\t\t\tthis.loop.value = this.loop.original;\n\t\t}\n\t\tthis.loopInit();\n\t\tthis.emitEvent(this.events.restart);\n\t}\n\n\t/**\n\t * To immediately Reset a tween without stopping/restarting it\n\t * This is faster than calling manually Reset() & Start() & Tick()\n\t *\n\t * @param {number} dtRemains\n\t */\n\tpublic resetAndStart(dtRemains: number) {\n\t\tthis.loopInit();\n\t\tthis.emitEvent(this.events.restart);\n\n\t\tthis.state = State.Run;\n\t\tif (dtRemains > 0) {\n\t\t\tthis.tickCb(dtRemains);\n\t\t}\n\t}\n\n\t/**\n\t * Method used to define the ticker of this tween\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\n\t *\n\t * @param {ITicker} ticker\n\t * @returns {T}\n\t */\n\tpublic setParent(ticker: ITicker): T {\n\t\tthis.removeParent();\n\t\tthis.parent = ticker;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Method used to change the timescale of the tween\n\t *\n\t * @param {number} scale\n\t * @returns {T}\n\t */\n\tpublic setTimescale(scale: number): T {\n\t\tthis.timescale = scale;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Method used to pause a tween or a sequence (only work if the tween runs)\n\t *\n\t * @returns {void}\n\t */\n\tpublic pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\tthis.info(Log.Info, 'Cannot pause this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Pause;\n\t\tthis.removeParent();\n\t}\n\n\t/**\n\t * Method used to resume a tween or a sequence (only work if the tween is paused)\n\t * @export\n\t */\n\tpublic resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\tthis.info(Log.Info, 'Cannot resume this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.addTick(this.tickCb);\n\t}\n\n\t/**\n\t * Method used to Skip this tween or sequence and directly finish it\n\t *\n\t * @export\n\t * @param {boolean} [finalValue]\n\t * @returns {void}\n\t */\n\tpublic skip(finalValue?: boolean): void {\n\t\tif (this.state >= 3) {\n\t\t\tthis.info(Log.Info, 'Cannot skip this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.emitEvent(this.events.start);\n\t\t}\n\n\t\tif (finalValue) {\n\t\t\tconst duration = this.yo ? (this.yo.value * this.duration) : 0;\n\t\t\tthis.tickCb(this.duration - this.elapsed + duration);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.elapsed = this.duration;\n\t\tthis.complete();\n\t}\n\n\t/**\n\t * Method used to Stop/Kill a tween or a sequence\n\t * @export\n\t */\n\tpublic kill(): void {\n\t\tif (this.state === State.Killed) {\n\t\t\tthis.info(Log.Info, 'Cannot kill this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Killed;\n\t\tthis.removeParent();\n\t\tthis.emitEvent(this.events.kill);\n\t}\n\n\t/**\n\t * Method used to define how many time the tween has to loop\n\t * Extra: if -1 the tween will loop forever\n\t *\n\t * @param {number} loop\n\t * @returns {ITween}\n\t */\n\tpublic setLoop(loop: number): T {\n\t\tif (!this.loop) {\n\t\t\tthis.loop = { original: 1, value: 1 };\n\t\t}\n\t\tthis.loop.original = Math.round(loop);\n\t\tthis.loop.value = this.loop.original;\n\t\treturn this as any;\n\t}\n\n\tpublic setSettings(settings: ISettings): T {\n\t\tif (this.settings) {\n\t\t\tObject.assign(this.settings, settings);\n\t\t} else {\n\t\t\tthis.settings = settings;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected complete(): void {\n\t\tif (this.state >= 3) {\n\t\t\tthis.info(Log.Info, 'Cannot complete this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Finished;\n\t\tthis.removeParent();\n\t\tthis.emitEvent(this.events.complete);\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected removeParent() {\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeTick(this.tickCb);\n\t\t}\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected check(): void {}\n\t/**\n\t * @protected\n\t */\n\tprotected validate(): void {}\n\t/**\n\t * @protected\n\t */\n\tprotected loopInit(): void {\n\t\tthis.elapsed = 0;\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected info(level: Log, message: string, data?: any) {\n\t\tif (!this.settings || level > this.settings.logLevel) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(message, data);\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate emit(func: any, args: any) {\n\t\tif (this.settings && !this.settings.safe) {\n\t\t\treturn func.apply(this, args);\n\t\t}\n\t\ttry {\n\t\t\tfunc.apply(this, args);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected emitEvent(listeners: any, args?: any) {\n\t\tif (!listeners) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (listeners instanceof Array) {\n\t\t\tfor (const listener of listeners) {\n\t\t\t\tthis.emit(listener, args);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.emit(listeners, args);\n\t\t}\n\t}\n\n\t/**\n\t *  Callback called when the tween started\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t */\n\tpublic onStart(cb: () => void): T {\n\t\treturn this.onEvent('start', cb);\n\t}\n\n\t/**\n\t * Callback called when the tween restart (loop)\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t */\n\tpublic onRestart(cb: () => void): T {\n\t\treturn this.onEvent('restart', cb);\n\t}\n\n\t/**\n\t * Callback called when the tween is updated\n\t *\n\t * @param {(dt: number, progress: number) => void} cb\n\t * @returns {T}\n\t */\n\tpublic onUpdate(cb: (dt: number, progress: number) => void): T {\n\t\treturn this.onEvent('update', cb);\n\t}\n\n\t/**\n\t * Callback called when the tween is manually killed\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t */\n\tpublic onKilled(cb: () => void): T {\n\t\treturn this.onEvent('kill', cb);\n\t}\n\n\t/**\n\t * Callback called when the tween is finished\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t */\n\tpublic onComplete(cb: () => void): T {\n\t\treturn this.onEvent('complete', cb);\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected onEvent(name: string, cb: any): T {\n\t\tif (!this.events[name]) {\n\t\t\tthis.events[name] = cb;\n\t\t} else if (this.events[name] instanceof Array) {\n\t\t\tthis.events[name].push(cb);\n\t\t} else {\n\t\t\tthis.events[name] = [this.events[name], cb];\n \t\t}\n\t\treturn this as any;\n\t}\n}\n","import { IPlayable } from '../core/interfaces/IPlayable';\nimport { BaseTween } from './baseTween';\n\n/**\n * Fake tween used to append or join callback in a sequence\n *\n * @export\n * @class Callback\n * @extends {BaseTween}\n * @implements {IPlayable}\n */\nexport class Callback extends BaseTween<Callback> implements IPlayable {\n\t/**\n\t * @private\n\t */\n\tprivate readonly callback: () => void;\n\n\t/**\n\t * Creates an instance of Callback.\n\t *\n\t * @param {() => void} cb\n\t */\n\tconstructor(cb: () => void) {\n\t\tsuper();\n\t\tthis.callback = cb;\n\t\tthis.tickCb = this.tick.bind(this);\n\t}\n\t/**\n\t * @private\n\t * @param {number} dt\n\t */\n\tprivate tick(dt: number) {\n\t\tthis.elapsed += dt;\n\t\tthis.duration = 0;\n\t\tthis.callback();\n\t\tthis.emitEvent(this.events.update, [dt, 1]);\n\t\tthis.complete();\n\t}\n}\n","import { IPlayable } from '../core/interfaces/IPlayable';\nimport { BaseTween } from './baseTween';\n\n/**\n * Fake tween used to delay other tweens in a sequence\n *\n * @export\n * @class Delay\n * @extends {BaseTween}\n * @implements {IPlayable}\n */\nexport class Delay extends BaseTween<Delay> implements IPlayable {\n\t/**\n\t * @private\n\t */\n\tprivate remains = 0;\n\n\t/**\n\t * Creates an instance of Delay.\n\t *\n\t * @param {number} duration\n\t */\n\tconstructor(duration: number) {\n\t\tsuper();\n\t\tthis.duration = duration;\n\t\tthis.tickCb = this.tick.bind(this);\n\t}\n\n\t/**\n\t * @private\n\t * @param {number} dt\n\t * @returns\n\t * @memberof Delay\n\t */\n\tprivate tick(dt: number) {\n\t\tthis.remains = dt * this.timescale;\n\n\t\twhile (this.remains > 0) {\n\t\t\tthis.elapsed += this.remains;\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\t\tif (this.events.update) {\n\t\t\t\tthis.emitEvent(this.events.update, [this.remains, progress]);\n\t\t\t}\n\n\t\t\tif (this.elapsed < this.duration) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.remains = this.elapsed - this.duration;\n\n\t\t\tif (this.loop) {\n\t\t\t\tthis.loop.value--;\n\t\t\t\tif (this.loop.value !== 0) {\n\t\t\t\t\tthis.resetAndStart(0);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.complete();\n\t\t\treturn;\n\t\t}\n\t}\n}\n","import { Log } from '../core/enum/log';\nimport { State } from '../core/enum/state';\nimport { IPlayable } from '../core/interfaces/IPlayable';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ITween } from '../core/interfaces/ITween';\nimport { BaseTween } from './baseTween';\nimport { Callback } from './callback';\nimport { Delay } from './delay';\n\n/**\n * Sequence: used to animate other tweens or sequence\n * Can play them sequentially or in parallel\n *\n * @export\n * @class Sequence\n * @extends {BaseTween}\n * @implements {ISequence}\n * @implements {ITicker}\n * @implements {IPlayable}\n */\nexport class Sequence extends BaseTween<Sequence> implements ISequence, ITicker, IPlayable {\n\t/**\n\t * @private\n\t */\n\tprivate readonly evtTick: Set<{(dt: number): void}> = new Set();\n\t/**\n\t * @private\n\t */\n\tprivate readonly tweens: ((ITween | IPlayable)[])[] = [];\n\t/**\n\t * @private\n\t */\n\tprivate index = 0;\n\n\t// cache\n\t/**\n\t * @private\n\t */\n\tprivate cur: (ITween | IPlayable)[] | undefined;\n\t/**\n\t * @private\n\t */\n\tprivate remains = 0;\n\t/**\n\t * Number of tween in this sequence\n\t *\n\t * @readonly\n\t * @type {number}\n\t */\n\tpublic get count(): number {\n\t\treturn this.tweens.length;\n\t}\n\n\t/**\n\t * Creates an instance of Sequence.\n\t *\n\t * @param {(ITween[] | ISequence[] | IPlayable[])} [tweens]\n\t */\n\tconstructor(tweens?: ITween[] | ISequence[] | IPlayable[]) {\n\t\tsuper();\n\t\tthis.tickCb = this.tick.bind(this);\n\n\t\tif (tweens) {\n\t\t\tthis.tweens = new Array(tweens.length);\n\t\t\tfor (let i = 0; i < tweens.length; i++) {\n\t\t\t\ttweens[i].setParent(this);\n\t\t\t\tthis.tweens[i] = [tweens[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected loopInit() {\n\t\tthis.index = 0;\n\t\tfor (const tweenArray of this.tweens) {\n\t\t\tfor (const tween of tweenArray) {\n\t\t\t\ttween.reset();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add a child to tick\n\t *\n\t * @param {(dt: number) => void} cb\n\t */\n\tpublic addTick(cb: (dt: number) => void): void {\n\t\tthis.evtTick.add(cb);\n\t}\n\n\t/**\n\t * Remove a child to tick\n\t *\n\t * @param {(dt: number) => void} cb\n\t * @memberof Sequence\n\t */\n\tpublic removeTick(cb: (dt: number) => void): void {\n\t\tthis.evtTick.delete(cb);\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate tick(dt: number) {\n\t\tif (this.state >= 3) {\n\t\t\treturn;\n\t\t}\n\t\tthis.remains = dt * this.timescale;\n\t\tthis.elapsed += this.remains;\n\t\tthis.localTick(this.remains);\n\t}\n\n\t/**\n\t * @private\n\t * @param {number} dt\n\t * @param {boolean} [remains]\n\t * @returns\n\t */\n\tprivate localTick(dt: number, remains?: boolean) {\n\t\t// If no current tween, take the first one and start it\n\t\tif (!this.cur) {\n\t\t\tthis.nextTween();\n\t\t}\n\n\t\tif (this.cur) {\n\t\t\t// Tick every listener\n\t\t\tthis.evtTick.forEach(function (tick) { tick(dt); });\n\n\t\t\t// Dont emit update event for remains dt\n\t\t\tif (remains !== true && this.events.update) {\n\t\t\t\tthis.emitEvent(this.events.update, [dt, 0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.remains = dt;\n\n\t\t// Current tween over\n\t\tif (this.cur) {\n\t\t\tfor (const current of this.cur) {\n\t\t\t\tif (current.state !== State.Finished) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.remains = this.cur[0].elapsed - this.cur[0].duration;\n\n\t\t\tif (this.events.stepEnd) {\n\t\t\t\tthis.emitEvent(this.events.stepEnd, this.cur[0]);\n\t\t\t}\n\n\t\t\tthis.cur = undefined;\n\t\t\tthis.index++;\n\n\t\t\tif (this.remains > 0.01) {\n\t\t\t\tthis.localTick(this.remains, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Complete\n\t\tif (!this.cur && this.tweens.length === this.index) {\n\t\t\tif (this.loop) {\n\t\t\t\tthis.loop.value--;\n\t\t\t\tif (this.loop.value !== 0) {\n\t\t\t\t\tthis.resetAndStart(this.remains);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.complete();\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate nextTween() {\n\t\tthis.cur = this.tweens[this.index];\n\t\tif (!this.cur) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const tween of this.cur) {\n\t\t\ttween.start();\n\t\t}\n\n\t\tif (this.events.stepStart) {\n\t\t\tthis.emitEvent(this.events.stepStart, this.cur[0]);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {(ITween | ISequence)} tween\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic append(tween: ITween | ISequence): ISequence {\n\t\ttween.setParent(this);\n\t\tthis.tweens[this.tweens.length] = [tween];\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {() => void} cb\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic appendCallback(cb: () => void): ISequence {\n\t\tconst playable = new Callback(cb);\n\t\tplayable.setParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {number} duration\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic appendInterval(duration: number): ISequence {\n\t\tconst playable = new Delay(duration);\n\t\tplayable.setParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {(ITween | ISequence)} tween\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic prepend(tween: ITween | ISequence): ISequence {\n\t\ttween.setParent(this);\n\t\tthis.tweens.unshift([tween]);\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {() => void} cb\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic prependCallback(cb: () => void): ISequence {\n\t\tconst playable = new Callback(cb);\n\t\tplayable.setParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {number} duration\n\t * @returns {ISequence}\n\t * @memberof Sequence\n\t */\n\tpublic prependInterval(duration: number): ISequence {\n\t\tconst playable = new Delay(duration);\n\t\tplayable.setParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\t/**\n\t * @inheritdoc\n\t *\n\t * @param {boolean} [finalValue]\n\t * @returns {void}\n\t */\n\tpublic skip(finalValue?: boolean): void {\n\t\tif (this.state >= 3) {\n\t\t\tthis.info(Log.Info, 'Cannot skip this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const tweenArray of this.tweens) {\n\t\t\tfor (const tween of tweenArray) {\n\t\t\t\tif (tween.elapsed === 0) {\n\t\t\t\t\tthis.emitEvent(this.events.stepStart, tween);\n\t\t\t\t}\n\n\t\t\t\ttween.skip(finalValue);\n\t\t\t\tthis.emitEvent(this.events.stepEnd, tween);\n\t\t\t}\n\t\t}\n\t\tsuper.skip();\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic kill(): void {\n\t\tif (this.state === State.Killed) {\n\t\t\tthis.info(Log.Info, 'Cannot kill this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const tweenArray of this.tweens) {\n\t\t\tfor (const tween of tweenArray) {\n\t\t\t\ttween.kill();\n\t\t\t}\n\t\t}\n\n\t\tsuper.kill();\n\t}\n\n\t/**\n\t * @param {(ITween | ISequence)} tween\n\t * @returns {ISequence}\n\t */\n\tpublic join(tween: ITween | ISequence): ISequence {\n\t\tif (this.tweens.length === 0) {\n\t\t\treturn this.append(tween);\n\t\t}\n\t\ttween.setParent(this);\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {((index: ITween | IPlayable) => void)} cb\n\t * @returns {ISequence}\n\t */\n\tpublic onStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\treturn this.onEvent('stepStart', cb);\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {((index: ITween | IPlayable) => void)} cb\n\t * @returns {ISequence}\n\t */\n\tpublic onStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\treturn this.onEvent('stepEnd', cb);\n\t}\n}\n","import { State } from '../core/enum/state';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITween } from '../core/interfaces/ITween';\nimport { easeNames } from '../easing/easing';\nimport { EasingType } from '../easing/easingType';\nimport { BaseTween } from './baseTween';\nimport { Sequence } from './sequence';\n\n/**\n * Tween: Used to animate values of an object\n *\n * @export\n * @class Tween\n * @extends {BaseTween}\n * @implements {ITween}\n */\nexport class Tween extends BaseTween<Tween> implements ITween {\n\t// properties\n\t/**\n\t * @private\n\t */\n\tprivate obj: any;\n\t/**\n\t * @private\n\t */\n\tprivate readonly prop: string[] = [];\n\n\t// user from & to\n\t/**\n\t * @private\n\t */\n\tprivate f: any;\n\t/**\n\t * @private\n\t */\n\tprivate t: any;\n\n\t// current value from & to (can changed based on yoyo, reset, ...)\n\t/**\n\t * @private\n\t */\n\tprivate cf: any;\n\t/**\n\t * @private\n\t */\n\tprivate ct: any;\n\n\t// options\n\t/**\n\t * @private\n\t */\n\tprivate steps = 0;\n\t/**\n\t * @private\n\t */\n\tprivate relative = false;\n\t/**\n\t * @private\n\t */\n\tprivate ease: (t: number) => number;\n\n\t// cache\n\t/**\n\t * @private\n\t */\n\tprivate p = 0;\n\t/**\n\t * @private\n\t */\n\tprivate v = 0;\n\t/**\n\t * @private\n\t */\n\tprivate remains = 0;\n\n\t/**\n\t * Creates an instance of Tween.\n\t *\n\t * @param {*} object\n\t */\n\tconstructor(object: any) {\n\t\tsuper();\n\n\t\tthis.obj = object;\n\t\tthis.tickCb = this.tick.bind(this);\n\t}\n\n\t/**\n\t * Used to define the object and the properties modified by this tween\n\t *\n\t * @param {*} object\n\t */\n\tpublic init(object: any) {\n\t\tthis.obj = object;\n\t\tthis.prop.length = 0;\n\t}\n\n\t/**\n\t * Method used on start to check the values of this tween\n\t *\n\t * @protected\n\t */\n\tprotected validate() {\n\t\t// Check the object\n\t\tif (!this.obj) {\n\t\t\tthrow new Error('undefined object');\n\t\t}\n\n\t\t// Check this tween will be updated\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('no ticker');\n\t\t}\n\n\t\t// Easing\n\t\tif (!this.ease) {\n\t\t\tthis.ease = easeNames[EasingType.Linear];\n\t\t}\n\n\t\tthis.check();\n\t}\n\n\t/**\n\t * Method used to calculate currentFrom/currentTo based on the config\n\t *\n\t * @protected\n\t */\n\tprotected check() {\n\t\tif (!this.cf) {\n\t\t\tthis.cf = {};\n\t\t}\n\t\tif (!this.ct) {\n\t\t\tthis.ct = {};\n\t\t}\n\n\t\tfor (const prop of this.prop) {\n\t\t\t// From\n\t\t\tif (!this.f) {\n\t\t\t\tthis.cf[prop] = this.obj[prop];\n\t\t\t} else {\n\t\t\t\tthis.cf[prop] = this.f[prop];\n\t\t\t\tthis.obj[prop] = this.f[prop];\n\t\t\t}\n\n\t\t\t// Relative\n\t\t\tif (this.relative) {\n\t\t\t\tthis.ct[prop] = this.obj[prop] + this.t[prop];\n\t\t\t} else {\n\t\t\t\tthis.ct[prop] = this.t[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate tick(dt: number) {\n\t\tif (this.state >= 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.remains = dt * this.timescale;\n\t\twhile (this.remains > 0) {\n\t\t\tthis.elapsed += this.remains;\n\t\t\tthis.p = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\t\tthis.v = this.ease(this.p);\n\n\t\t\t// Yoyo easing (need to be reversed)\n\t\t\tif (this.yo && (this.yo.original - this.yo.value) % 2 === 1) {\n\t\t\t\tthis.v = 1 - this.ease(1 - this.p);\n\t\t\t}\n\n\t\t\t// Steps behaviour\n\t\t\tif (this.steps !== 0) {\n\t\t\t\tthis.v = Math.round(this.v * this.steps) / this.steps;\n\t\t\t}\n\n\t\t\t// Update if the object still exist\n\t\t\tfor (const prop of this.prop) {\n\t\t\t\tthis.obj[prop] = this.cf[prop] + (this.ct[prop] - this.cf[prop]) * this.v;\n\t\t\t}\n\n\t\t\tif (this.events.update) {\n\t\t\t\tthis.emitEvent(this.events.update, [this.remains, this.p]);\n\t\t\t}\n\n\t\t\tif (this.elapsed < this.duration) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.remains = this.elapsed - this.duration;\n\n\t\t\t// Yoyo effect ( A -> B -> A )\n\t\t\tif (this.yo && this.yo.value !== 0) {\n\t\t\t\tthis.reverse();\n\t\t\t\tthis.resetAndStart(0);\n\t\t\t\tthis.yo.value--;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Loop management\n\t\t\tif (this.loop) {\n\t\t\t\tthis.loop.value--;\n\t\t\t\tif (this.loop.value !== 0) {\n\t\t\t\t\tthis.check();\n\t\t\t\t\tthis.resetAndStart(0);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.complete();\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Method used to set the values at the beginning of the tween\n\t *\n\t * @param {*} from\n\t * @returns {ITween}\n\t */\n\tpublic from(from: any): ITween {\n\t\tthis.f = from;\n\t\tthis.updateProp();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to set the values at the end of the tween\n\t *\n\t * @param {*} to\n\t * @param {number} duration\n\t * @returns {ITween}\n\t */\n\tpublic to(to: any, duration: number): ITween {\n\t\tthis.t = to;\n\t\tthis.duration = duration;\n\t\tthis.updateProp();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Compute the properties\n\t *\n\t * @private\n\t */\n\tprivate updateProp() {\n\t\tif (!this.obj) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const index in this.t) {\n\t\t\tif (this.t.hasOwnProperty(index)) {\n\t\t\t\tthis.prop.push(index);\n\t\t\t}\n\t\t}\n\n\t\tthis.prop.filter((el, i, a) => i === a.indexOf(el));\n\t}\n\n\t/**\n\t * Method used to define if the tween as to work in relative or not\n\t *\n\t * @param {boolean} relative\n\t * @returns {ITween}\n\t */\n\tpublic setRelative(relative: boolean): ITween {\n\t\tthis.relative = relative;\n\t\treturn this;\n\t}\n\n\t/**\n\t * To apply a modifier on a current tween\n\t *\n\t * @param {*} diff\n\t * @param {boolean} updateTo\n\t */\n\tpublic modify(diff: any, updateTo: boolean): void {\n\t\tfor (const prop of this.prop) {\n\t\t\tif (!diff.hasOwnProperty(prop)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.obj[prop] += diff[prop];\n\n\t\t\tif (updateTo) {\n\t\t\t\tthis.ct[prop] += diff[prop];\n\t\t\t} else {\n\t\t\t\tthis.cf[prop] += diff[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Overwrite the Reset (just for yoyo)\n\t *\n\t * @param {boolean} [skipParent]\n\t */\n\tpublic reset(skipParent?: boolean): void {\n\t\tif (this.yo) {\n\t\t\tif ((this.yo.original - this.yo.value) % 2 === 1) {\n\t\t\t\tlet previous = this.cf;\n\t\t\t\tthis.cf = this.ct;\n\t\t\t\tthis.ct = previous;\n\n\t\t\t\tprevious = this.f;\n\t\t\t\tthis.f = this.t;\n\t\t\t\tthis.t = previous;\n\n\t\t\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\n\t\t\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\n\t\t\t}\n\n\t\t\tthis.yo.value = this.yo.original;\n\t\t}\n\t\tsuper.reset(skipParent);\n\t}\n\n\t/**\n\t * Method used to reverse the tween\n\t */\n\tpublic reverse(): void {\n\t\tlet previous = this.cf;\n\t\tthis.cf = this.ct;\n\t\tthis.ct = previous;\n\n\t\tprevious = this.f;\n\t\tthis.f = this.t;\n\t\tthis.t = previous;\n\n\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\n\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\n\n\t\tif (this.state === State.Finished) {\n\t\t\tthis.reset(true);\n\t\t\tthis.start();\n\t\t}\n\t}\n\n\t/**\n\t * Method used to reverse the tween N times at the end\n\t *\n\t * @param {number} time\n\t * @returns {ITween}\n\t */\n\tpublic yoyo(time: number): ITween {\n\t\tif (!this.yo) {\n\t\t\tthis.yo = { original: 0, value: 0 };\n\t\t}\n\t\tthis.yo.original = time;\n\t\tthis.yo.value = time;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to Quantify the tween value to a certain amount of steps\n\t *\n\t * @param {number} steps\n\t * @returns {ITween}\n\t */\n\tpublic setSteps(steps: number): ITween {\n\t\tthis.steps = steps;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to create a sequence with this tween as first value.\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\n\t *\n\t * @returns {ISequence}\n\t */\n\tpublic toSequence(): ISequence {\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('parent ticker not defined');\n\t\t}\n\t\treturn new Sequence().setParent(this.parent).append(this);\n\t}\n\n\t/**\n\t * Method used to set the type of easing for this tween\n\t *\n\t * @param {(EasingType | string)} type\n\t * @returns {ITween}\n\t */\n\tpublic setEasing(type: EasingType | string): ITween {\n\t\tif (!(type in easeNames)) {\n\t\t\tthrow new Error(`unknown easing method ${type}`);\n\t\t}\n\n\t\tthis.ease = easeNames[type];\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used when the tween is reset (loop)\n\t *\n\t * @protected\n\t */\n\tprotected loopInit() {\n\t\tthis.elapsed = 0;\n\t}\n}\n"],"sourceRoot":""}