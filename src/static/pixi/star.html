<div id="canvas2"></div>
<script>
    var app = new PIXI.Application(1024 / 2, 768 / 2, {backgroundColor : 0x000000});
    document.getElementById('canvas2').appendChild(app.view);

    var star = new PIXI.Container();
    star.x += 100;
    star.y += 50;
    app.stage.addChild(star);

    // Create 250 sprites
    for (let i = 0; i < 250; i++) {
        let dx = Math.random() * 8 - 4;
        let dy = Math.random() * 8 - 4;
        let currentSprite = AddSprite('/Fatina/Yuko_Blink_2.png', star, 20 + dx, 80 + dy, 1);
        let currentTimescale = Math.random() + 0.5;

        var sequence = Fatina.sequence().setLoop(-1);
        sequence.appendInterval(Math.random() * 1000);
        sequence.append(Fatina.tween(currentSprite, ['x', 'y']).to({ x: 280 + dx, y: 80 + dy}, 1400).setEasing('inOutSine').setTimescale(currentTimescale));
        sequence.append(Fatina.tween(currentSprite, ['x', 'y']).to({ x: 50 + dx, y: 250 + dy}, 1400).setEasing('inOutQuad').setTimescale(currentTimescale));
        sequence.append(Fatina.tween(currentSprite, ['x', 'y']).to({ x: 150 + dx, y: 0 + dy}, 1400).setEasing('inOutSine').setTimescale(currentTimescale));
        sequence.append(Fatina.tween(currentSprite, ['x', 'y']).to({ x: 250 + dx, y: 250 + dy}, 1400).setEasing('inOutQuad').setTimescale(currentTimescale));
        sequence.append(Fatina.tween(currentSprite, ['x', 'y']).to({ x: 20 + dx, y: 80 + dy}, 1400).setEasing('inOutQuad').setTimescale(currentTimescale));
        sequence.start();
    }

    function AddSprite(path, container, x, y, scale) {
        var img = PIXI.Sprite.fromImage(path);
        img.anchor.set(0.5);
        img.x = x;
        img.y = y;
        img.scale.x = scale;
        img.scale.y = scale;
        container.addChild(img);
        return img;
    }
</script>
